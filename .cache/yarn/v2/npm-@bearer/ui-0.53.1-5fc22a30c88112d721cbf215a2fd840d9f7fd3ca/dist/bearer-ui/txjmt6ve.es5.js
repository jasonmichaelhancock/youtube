/*! Built with http://stenciljs.com */
BearerUi.loadBundle("txjmt6ve",["exports","./chunk-a56a6b77.js"],function(e,t){var r=window.BearerUi.h,n=function(){function e(){var e=this;this.perPage=5,this.hasMore=!0,this.page=1,this.fetching=!1,this.collection=[],this._renderCollection=function(){return e.fetching&&!e.collection.length?null:(e.renderCollection||e.renderCollectionDefault)(e.collection)},this.renderCollectionDefault=function(t){return r("bearer-navigator-collection",Object.assign({},e.rendererProps,{data:t}))},this._renderFetching=function(){return e.renderFetching?e.renderFetching():r("bearer-loading",null)},this.onScroll=function(){e.fetching||e.content.scrollTop+e.content.clientHeight>=e.content.scrollHeight&&e.fetchNext()}}return e.prototype.fetchNext=function(){var e=this;this.hasMore&&(this.fetching=!0,this.fetcher({page:this.page}).then(function(t){var r=t.data;return console.log("[BEARER]","data receiced from fetcher",r),e.hasMore=r.length===e.perPage,e.collection=e.collection.concat(r),e.fetching=!1,e.page=e.page+1,r}).catch(function(t){console.error("[BEARER]","Error while fetching",t),e.fetching=!1}))},e.prototype.componentDidLoad=function(){this.element&&(this.content=this.element.querySelector(".scrollable-list"),this.content.addEventListener("scroll",this.onScroll),this.fetchNext())},e.prototype.reset=function(){this.hasMore=!0,this.collection=[],this.fetchNext()},e.prototype.render=function(){return r("div",{class:"scrollable-list"},this._renderCollection(),this.fetching&&this._renderFetching())},Object.defineProperty(e,"is",{get:function(){return"bearer-scrollable"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{collection:{state:!0},content:{state:!0},element:{elementRef:!0},fetcher:{type:"Any",attr:"fetcher"},fetching:{state:!0},hasMore:{state:!0},page:{state:!0},perPage:{type:Number,attr:"per-page"},renderCollection:{type:"Any",attr:"render-collection"},rendererProps:{type:"Any",attr:"renderer-props"},renderFetching:{type:"Any",attr:"render-fetching"},reset:{method:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"listeners",{get:function(){return[{name:"BearerScrollableNext",method:"fetchNext"}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".scrollable-list{height:300px;overflow-x:hidden;overflow-y:scroll}.scrollable-list::-webkit-scrollbar{display:none}"},enumerable:!0,configurable:!0}),e}();e.BearerScrollable=n,Object.defineProperty(e,"__esModule",{value:!0})});