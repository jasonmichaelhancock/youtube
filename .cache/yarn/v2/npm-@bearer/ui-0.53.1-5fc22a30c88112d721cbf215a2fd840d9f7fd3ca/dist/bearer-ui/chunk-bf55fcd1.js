/*! Built with http://stenciljs.com */
const{h:o}=window.BearerUi;import{b as t}from"./chunk-567c07cb.js";function e(){return function(o){const e=o.prototype.componentDidLoad;o.prototype.componentDidLoad=function(){console.log("[BEARER]","componentDidLoad authentication"),t.instance.maybeInitialized.then(()=>{this.onSessionInitialized&&this.onSessionInitialized(),console.log("[BEARER]","componentDidLoad:maybeInitialized",this.SCENARIO_ID,this.onAuthorized,this.onRevoked),this.authorizedListener=t.onAuthorized(this.SCENARIO_ID,()=>{this.onAuthorized()}),this.revokedListener=t.onRevoked(this.SCENARIO_ID,()=>{this.onRevoked()}),t.instance.hasAuthorized(this.SCENARIO_ID).then(()=>{console.log("[BEARER]","authorized"),this.onAuthorized()}).catch(o=>{console.log("[BEARER]","unauthorized",{error:o}),this.onRevoked()})}).catch(o=>{console.error("[BEARER]","Could not initialize session",{error:o})}),e&&e()};const i=o.prototype.componentDidUnload;o.prototype.componentDidUnload=function(){this.authorizedListener&&(this.authorizedListener.remove(),this.authorizedListener=null),this.revokedListener&&(this.revokedListener.remove(),this.revokedListener=null),i()},o.prototype.SCENARIO_ID="BEARER_SCENARIO_ID",o.prototype.revokeProto=function(){t.instance.revokeAuthorization(this.SCENARIO_ID)},o.prototype.authorizeProto=function(){console.log("[BEARER]","authenticate",this.SCENARIO_ID,this.bearerContext.setupId),t.instance.askAuthorizations({scenarioId:this.SCENARIO_ID,setupId:this.bearerContext.setupId})}}}class i{}export{e as a,i as b};