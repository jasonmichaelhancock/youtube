/*! Built with http://stenciljs.com */
BearerUi.loadBundle("yf2vkbs8",["exports","./chunk-a56a6b77.js","./chunk-a5b5eb10.js"],function(e,t,r){var n=window.BearerUi.h,i=[{type:"text",label:"Client ID",controlName:"clientId",required:!0},{type:"password",label:"Client Secret",controlName:"clientSecret",required:!0}],a=[{type:"email",label:"Email",controlName:"email",required:!0},{type:"password",label:"Password",controlName:"password",required:!0}],l=[{type:"text",label:"Enter your Key",controlName:"key",required:!0}],o=function(){function e(){var e=this;this.fields=[],this.error=!1,this.loading=!1,this.handleSubmit=function(r){r.preventDefault(),e.loading=!0;var n=e.fieldSet.map(function(e){return{key:e.controlName,value:e.value}});t.StateManager.storeSetup(n.reduce(function(e,t){var r;return Object.assign({},e,((r={})[t.key]=t.value,r))},{})).then(function(r){e.loading=!1;var n=r.Item.referenceId;console.log("[BEARER]","setup_success","setup_success:"+e.scenarioId),t.Bearer.emitter.emit("setup_success:"+e.scenarioId,{referenceId:n}),e.setupSuccess.emit({referenceId:n})}).catch(function(){e.error=!0,e.loading=!1,t.Bearer.emitter.emit("setup_error:"+e.scenarioId,{})})}}return e.prototype.componentWillLoad=function(){if("string"==typeof this.fields)switch(this.fields){case"email":this.fieldSet=new r.FieldSet(a);break;case"type":this.fieldSet=new r.FieldSet(l);break;case"oauth2":default:this.fieldSet=new r.FieldSet(i)}else this.fieldSet=new r.FieldSet(this.fields)},e.prototype.render=function(){return[this.error&&n("bearer-alert",{kind:"danger"},"[Error] Unable to store the credentials"),this.loading?n("bearer-loading",null):n("bearer-form",{fields:this.fieldSet,clearOnInput:!0,onSubmit:this.handleSubmit})]},Object.defineProperty(e,"is",{get:function(){return"bearer-setup"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{element:{elementRef:!0},error:{state:!0},fields:{type:String,attr:"fields"},fieldSet:{state:!0},loading:{state:!0},referenceId:{type:String,attr:"reference-id"},scenarioId:{type:String,attr:"scenario-id"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"setupSuccess",method:"setupSuccess",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return""},enumerable:!0,configurable:!0}),e}();e.BearerSetup=o,Object.defineProperty(e,"__esModule",{value:!0})});