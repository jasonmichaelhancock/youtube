/*! Built with http://stenciljs.com */
const{h:e}=window.BearerUi;import{b as t,c as r}from"./chunk-567c07cb.js";import{a as i}from"./chunk-69ed7b92.js";class s{constructor(){this.fields=[],this.error=!1,this.loading=!1,this.handleSubmit=(e=>{e.preventDefault(),this.loading=!0;const i=this.fieldSet.map(e=>({key:e.controlName,value:e.value}));r.storeSetup(i.reduce((e,t)=>Object.assign({},e,{[t.key]:t.value}),{})).then(e=>{this.loading=!1,console.log(`${this.scenarioId}`),t.emitter.emit(`config_success:${this.scenarioId}`,{referenceID:e.Item.referenceId})}).catch(()=>{this.error=!0,this.loading=!1,t.emitter.emit(`config_error:${this.scenarioId}`,{})})})}componentWillLoad(){this.fieldSet=new i(this.fields)}render(){return[this.error&&e("bearer-alert",{kind:"danger"},"[Error] Unable to store the credentials"),this.loading?e("bearer-loading",null):e("bearer-form",{fields:this.fieldSet,clearOnInput:!0,onSubmit:this.handleSubmit})]}static get is(){return"bearer-config"}static get encapsulation(){return"shadow"}static get properties(){return{element:{elementRef:!0},error:{state:!0},fields:{type:String,attr:"fields"},fieldSet:{state:!0},loading:{state:!0},referenceId:{type:String,attr:"reference-id"},scenarioId:{type:String,attr:"scenario-id"}}}static get events(){return[{name:"stepCompleted",method:"stepCompleted",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return""}}export{s as BearerConfig};