/*! Built with http://stenciljs.com */
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();import{h}from"./bearer-ui.core.js";import"./chunk-567c07cb.js";import{a as AuthenticationListener,b as WithAuthenticationMethods}from"./chunk-bf55fcd1.js";var __decorate=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},BearerAuthorized=function(e){function t(){var t=e.apply(this,arguments)||this;return t.authorized=null,t.sessionInitialized=!1,t.onAuthorized=function(){console.log("[BEARER]","onAuthorized",!!t.pendingAuthorizationResolve),t.authorized=!0,t.pendingAuthorizationResolve&&t.pendingAuthorizationResolve(!0)},t.onRevoked=function(){t.authorized=!1,console.log("[BEARER]","onRevoked",!!t.pendingAuthorizationReject),t.pendingAuthorizationReject&&t.pendingAuthorizationReject(!1)},t.onSessionInitialized=function(){t.sessionInitialized=!0},t.authenticatePromise=function(){var e=new Promise(function(e,r){t.pendingAuthorizationResolve=e,t.pendingAuthorizationReject=r});return t.authorizeProto.bind(t)(),e},t}return __extends(t,e),t.prototype.authenticate=function(){console.log("[BEARER]","bearer-authorized","authenticate"),this.authenticatePromise().then(function(e){console.log("[BEARER]","bearer-authorized","authenticated",e)}).catch(function(e){console.log("[BEARER]","bearer-authenticated","error",e)})},t.prototype.revoke=function(){console.log("[BEARER]","bearer-authorized","revoke"),this.revokeProto.bind(this)()},t.prototype.render=function(){return this.sessionInitialized&&null!==this.authorized?this.authorized?this.renderAuthorized?this.renderAuthorized():h("slot",null):this.renderUnauthorized?this.renderUnauthorized({authenticate:this.authenticatePromise}):"Unauthorized":null},Object.defineProperty(t,"is",{get:function(){return"bearer-authorized"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{authenticate:{method:!0},authorized:{state:!0},bearerContext:{context:"bearer"},renderAuthorized:{type:"Any",attr:"render-authorized"},renderUnauthorized:{type:"Any",attr:"render-unauthorized"},revoke:{method:!0},sessionInitialized:{state:!0}}},enumerable:!0,configurable:!0}),t}(WithAuthenticationMethods);BearerAuthorized=__decorate([AuthenticationListener()],BearerAuthorized);var Icon=function(){return h("svg",{fill:"currentColor",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),h("path",{d:"M0-.5h24v24H0z",fill:"none"}))},BearerNavigatorBack=function(){function e(){var e=this;this.disabled=!1,this.back=function(){e.navigatorGoBack.emit()}}return e.prototype.render=function(){return h("button",{onClick:this.back,disabled:this.disabled},h(Icon,null))},Object.defineProperty(e,"is",{get:function(){return"bearer-navigator-back"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{disabled:{type:Boolean,attr:"disabled"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"navigatorGoBack",method:"navigatorGoBack",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"button{background:0 0;border:none;padding:0}button:not([disabled]){cursor:pointer}"},enumerable:!0,configurable:!0}),e}();export{BearerAuthorized,BearerNavigatorBack};